<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.bus.dao.RouteDAO">
	<!-- route테이블 -->
	<select id="routeidSearch" parameterType="String" resultType="kr.or.bus.dto.RouteDTO">
		select R_ID from route where R_NUM = #{r_num}
	</select>
	

	<!-- 전체 노선 -->
	<select id="route" resultType="kr.or.bus.dto.RouteDTO">
		select r_num from route
	</select>
	<select id="getRouteNum" resultType = "kr.or.bus.dto.RouteDTO">
		select r_num 
		from route
	</select>
	
	<!-- 노선번호 에 해당하는 정보들 insert-route테이블 -->
	<insert id="routeInsertData" parameterType="kr.or.bus.dto.RouteDTO">
		INSERT INTO route(R_NUM, G_NUM, R_START, R_LAST, R_INTERVAL, R_ID, BD_NUM) VALUES(#{r_num}, '', #{r_start}, #{r_last}, #{r_interval}, #{r_id}, #{bd_num})
	</insert>
	
	<!-- route 정보 중복체크 -->
	<select id="routeDataCheck" parameterType="kr.or.bus.dto.RouteDTO" resultType="Integer">
		select COUNT(*) from route WHERE r_id = #{r_id}
	</select>
</mapper>